# See full Decap documentation for further configuration: https://decapcms.org/docs/intro/
backend:
  name: git-gateway
  branch: main # Branch to update (optional; defaults to master)
local_backend: true
media_folder: src/assets/images/blog # Location where files will be stored in the repo - we store them in src so that Astro can optimize them.
public_folder: src/assets/images/blog # Ensure that this path is the same as the media_folder path above.
site_url: https://imassage-therapeutic.ca/ # Displays a link to home page in the top-right corner of the CMS dashboard
logo_url: https://codestitch.app/frontend/images/logo.png # change url to a link to the image you want to use, no file paths, must be a URL
collections:
  - name: 'blog' # Used in routes, e.g., /admin/collections/blog. Is also the key when fetching data from the CMS.
    label: 'Blog' # Used in the admin dashboard UI
    folder: 'src/content/blog' # The path to the folder where the documents are stored
    create: true # Allow users to create new documents in this collection
    fields: # The fields for each document
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Description', name: 'description', widget: 'string' }
      - { label: 'Author', name: 'author', widget: 'string' }
      - { label: 'Date', name: 'date', widget: 'datetime' }
      - { label: 'Featured Image', name: 'image', widget: 'image' }
      - { label: 'Image Caption', name: 'imageAlt', widget: 'string' }
      - { label: 'Tags', name: 'tags', widget: 'list', default: ['post'] }
      - { label: 'Body', name: 'body', widget: 'markdown' }

  - name: 'services'
    label: 'Services'
    folder: 'src/content/services'
    editor:
      preview: false
    media_folder: /src/assets/images/services # Images uploaded for 'services' will go here
    public_folder: /src/assets/images/services # The public path used in the content file
    create: true
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - {
          label: 'Service Short Description',
          name: 'cardDescription',
          widget: 'text',
          required: false,
          hint: 'Optional short description for the services list; will use the service description if empty.',
        }
      - {
          label: 'Service Description',
          name: 'subtitle',
          widget: 'text',
          hint: 'Main descriptive paragraph for the service.',
        }
      - {
          label: 'Service Image',
          name: 'image',
          widget: 'image',
          hint: 'Used for both the service image landing page and the card image on services list.',
        }
      - {
          label: 'Serice Image Alt Text',
          name: 'imageAlt',
          widget: 'string',
          hint: 'Used for accessibility purposes and SEO.',
        }
      - label: 'Service Feature'
        name: 'hightlights'
        widget: 'list'
        min: 1
        max: 3
        hint: 'maximum of 3, used to display on the service landing page'
        fields:
          - { label: 'Feature Name', name: 'featName', widget: 'string' }
          - { label: 'Feature Description', name: 'featBody', widget: 'text' }
      - {
          label: 'Benefits Title',
          name: 'benefitsTitle',
          widget: 'string',
          default: 'Benefits',
        }
      - {
          label: 'Benefits Tagline',
          name: 'benefitsTagline',
          widget: 'string',
          hint: 'Short, one-line summary shown below the benefits section.',
        }
      - label: 'Benefits'
        name: 'benefits'
        widget: 'list'
        hint: 'maximum of 4 benefits list'
        max: 4
        fields:
          - { label: 'Benefit Name', name: 'benefitName', widget: 'string' }
          - {
              label: 'Benefit Description',
              name: 'benefitBody',
              widget: 'text',
            }
      - label: 'Prices'
        name: 'prices'
        widget: 'list'
        required: false
        hint: 'optional prices for the service'
        fields:
          - {
              label: 'Session Duration',
              name: 'duration',
              widget: 'string',
              hint: 'e.g. 45 minutes',
            }
          - {
              label: 'Session Price',
              name: 'price',
              widget: 'string',
              hint: 'e.g. $85',
            }

  - name: 'Site Settings'
    label: 'Site Settings'
    delete: false # Prevent deleting the file
    editor:
      preview: false
    files:
      - name: 'client'
        label: 'Client Info'
        file: 'src/data/client.json'
        description: 'Global site information (Name, Phone, Address, etc.)'
        fields:
          - { label: 'Business Name', name: 'name', widget: 'string' }
          - { label: 'Email', name: 'email', widget: 'string' }
          - {
              label: 'Phone Number',
              name: 'phone',
              widget: 'string',
              hint: 'Enter in any format, e.g., 780-729-0978.',
            }
          - label: 'Address'
            name: 'address'
            widget: 'object'
            fields:
              - { label: 'Line One', name: 'lineOne', widget: 'string' }
              - { label: 'Line Two', name: 'lineTwo', widget: 'string' }
              - {
                  label: 'City',
                  name: 'city',
                  widget: 'string',
                  required: false,
                }
              - {
                  label: 'State/Province',
                  name: 'state',
                  widget: 'string',
                  required: false,
                }
              - {
                  label: 'Zip/Postal',
                  name: 'zip',
                  widget: 'string',
                  required: false,
                }
              - {
                  label: 'Google Maps Link',
                  name: 'mapLink',
                  widget: 'string',
                  required: false,
                }
          - label: 'Opening Hours'
            name: 'openingHours'
            widget: 'object'
            fields:
              - {
                  label: 'Days Open',
                  name: 'daysOpen',
                  widget: 'string',
                  hint: 'e.g. Monday – Sunday or Monday – Friday',
                }
              - {
                  label: 'Hours',
                  name: 'hours',
                  widget: 'string',
                  hint: 'e.g. 8:00 AM – 9:00 PM',
                }
          - label: 'Socials'
            name: 'socials'
            widget: 'object'
            fields:
              - { label: 'Facebook', name: 'facebook', widget: 'string' }
              - { label: 'Instagram', name: 'instagram', widget: 'string' }
              - { label: 'Twitter', name: 'twitter', widget: 'string' }
              - { label: 'LinkedIn', name: 'linkedin', widget: 'string' }

      - name: 'booking'
        label: 'Booking Link'
        file: 'src/data/booking.json'
        description: 'Link to the booking page'
        fields:
          - {
              label: 'Booking Button Text',
              name: 'buttonText',
              widget: 'string',
            }
          - {
              label: 'Booking Button Link',
              name: 'buttonLink',
              widget: 'string',
            }

  - name: 'pages'
    label: 'Pages'
    media_folder: /src/assets/images/home # Images uploaded for 'services' will go here
    public_folder: /src/assets/images/home # The public path used in the content file
    delete: false
    editor:
      preview: false
    files:
      - name: 'home'
        label: 'Homepage'
        file: 'src/data/home.json'
        description: 'Edit content for the main homepage sections'
        fields:
          # Section 1: Hero
          - label: 'Hero Section'
            name: 'hero'
            widget: 'object'
            collapsed: true
            fields:
              - { label: 'Main Heading', name: 'title', widget: 'string' }
              - { label: 'Subtitle', name: 'subtitle', widget: 'text' }
              - {
                  label: 'Hero Image',
                  name: 'image',
                  widget: 'image',
                  hint: 'Left side large image',
                }
              - { label: 'Image Alt Text', name: 'alt', widget: 'string' }

          # Section 2: Welcome / About Intro
          - label: 'Welcome Section'
            name: 'welcome'
            widget: 'object'
            collapsed: true
            fields:
              - { label: 'Section Heading', name: 'title', widget: 'string' }
              - { label: 'Body Text', name: 'body', widget: 'text' }
              - {
                  label: 'Side Image',
                  name: 'image',
                  widget: 'image',
                  hint: 'Right side square image',
                }
              - { label: 'Image Alt Text', name: 'alt', widget: 'string' }

          # Section 3: Green CTA Band
          - label: 'Green CTA Band'
            name: 'greenCta'
            widget: 'object'
            collapsed: true
            fields:
              - { label: 'Title', name: 'title', widget: 'string' }
              - { label: 'Description', name: 'description', widget: 'string' }

          # Section 4: Service Highlights (Connected to Services Collection)
          - label: 'Service Highlights'
            name: 'serviceHighlights'
            widget: 'object'
            collapsed: true
            description: 'Select 2 services to feature on the homepage'
            fields:
              - {
                  label: 'Intro Heading',
                  name: 'heading',
                  widget: 'string',
                  default: 'Our Services',
                }
              - {
                  label: 'Intro Description',
                  name: 'description',
                  widget: 'text',
                }

              # Feature 1 (Left) - a dropdown selection
              - label: 'Highlight 1 (Left)'
                name: 'highlight1'
                widget: 'relation'
                collection: 'services' # Target collection
                search_fields: ['title'] # Search by title
                value_field: 'title' # Save the Title to JSON
                display_fields: ['title'] # Show the Title in dropdown
                hint: 'Select a service. Image and text will be pulled automatically.'

              # Feature 2 (Right) - a dropdown selection
              - label: 'Highlight 2 (Right)'
                name: 'highlight2'
                widget: 'relation'
                collection: 'services'
                search_fields: ['title']
                value_field: 'title'
                display_fields: ['title']
                hint: 'Select a service. Image and text will be pulled automatically.'

          # Section 5: Why choose us section
          - label: 'Why Choose Us'
            name: 'whyChooseUs'
            widget: 'object'
            collapsed: true
            fields:
              - { label: 'Title', name: 'title', widget: 'string' }
              - { label: 'Description', name: 'description', widget: 'string' }
              - {
                  label: 'Side Image',
                  name: 'image',
                  widget: 'image',
                  hint: 'Left side image',
                }
              - { label: 'Image Alt Text', name: 'alt', widget: 'string' }
              - label: 'Benefit Points'
                name: 'points'
                widget: 'list'
                max: 4
                summary: '{{fields.text}}'
                hint: 'Up to 4 short bullet points (e.g., “Registered, experienced therapists focused on results”).'
                fields:
                  - {
                      label: 'Point Text',
                      name: 'text',
                      widget: 'string',
                      hint: 'One short benefit, e.g., "Registered, experienced therapists focused on results".',
                    }

          # Section 6: Booking Steps
          - label: 'Booking Steps'
            name: 'bookingSteps'
            widget: 'object'
            collapsed: true
            fields:
              - { label: 'Main Title', name: 'title', widget: 'string' }
              - label: 'Steps'
                name: 'steps'
                widget: 'list'
                max: 3
                fields:
                  - { label: 'Step Number', name: 'num', widget: 'string' }
                  - { label: 'Title', name: 'title', widget: 'string' }
                  - {
                      label: 'Description',
                      name: 'description',
                      widget: 'string',
                    }
              - {
                  label: 'Direct Billing Text',
                  name: 'billingText',
                  widget: 'string',
                }
              - {
                  label: 'Direct Billing Subtext',
                  name: 'billingSub',
                  widget: 'string',
                }
